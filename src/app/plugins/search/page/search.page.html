<ion-header>
    <ion-navbar>
        <ion-searchbar (input)="onInput($event)" (search)="onSearch($event)" placeholder="输入船名/MMSI/通航环境"></ion-searchbar>
    </ion-navbar>
    <ion-segment [(ngModel)]="switchValue" [attr.light]="isAndroid ? '' : null">
        <ion-segment-button value="shipLayer">
            船舶
        </ion-segment-button>
        <ion-segment-button value="thhj">
            通航环境
        </ion-segment-button>
    </ion-segment>
</ion-header>
<ion-content class="search-page" [ngSwitch]="switchValue">
    <loading ion-fixed [timeout]="60000" [enable]="showLoading">查询中，请稍后....</loading>
    <ion-list *ngSwitchCase="'shipLayer'">
        <button ion-item *ngFor="let feature of shipFeatures" (click)="onSelectFeature(feature)">
            <ion-icon item-left name="boat" isActive="false" mode="md" style.color={{shipTypeColor(feature)}} style="font-size:3.6rem"></ion-icon>
            <h2 style="display:flex">
                <span>{{feature.name}}</span>
            </h2>
            <p style="display:flex"><span style="flex-grow:1">{{shipType(feature)}}</span><span style="margin-left:2rem">{{feature.mmsi}}</span></p>
            <ion-icon name="pin" style="color:#50b5eb" item-right></ion-icon>
        </button>
    </ion-list>
    <ion-list *ngSwitchCase="'thhj'">
        <button ion-item *ngFor="let feature of thhjFeatures" (click)="onSelectFeature(feature)">
            <h2 style="display:flex">
                <span>{{feature.name}}</span>
            </h2>
            <p style="display:flex"><span style="flex-grow:1">{{thhjType(feature)}}</span></p>
            <ion-icon name="pin" style="color:#50b5eb" item-right></ion-icon>
        </button>
    </ion-list>
</ion-content>